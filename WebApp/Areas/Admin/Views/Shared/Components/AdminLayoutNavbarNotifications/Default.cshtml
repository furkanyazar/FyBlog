@using Entities.Concrete

@model List<Notification>

<li class="dropdown">
    <a class="dropdown-toggle count-info" data-toggle="dropdown" href="#">
        <i class="fa fa-bell"></i>
        @if (Model.Count > 0)
        {
            <span class="label label-primary">@Model.Count</span>
        }
    </a>
    <ul class="dropdown-menu dropdown-alerts">
        @if (Model.Count > 0)
        {
            foreach (var item in Model)
            {
                <li>
                    <a href="/Admin/Notification" class="dropdown-item">
                        <div>
                            @if (item.NotificationDetail.Length > 30)
                            {
                                Write(item.NotificationDetail.Substring(0, 30) + "...");
                            }
                            else
                            {
                                Write(item.NotificationDetail);
                            }
                            <span class="float-right text-muted small">@item.NotificationDateOf.ToShortDateString()</span>
                        </div>
                    </a>
                </li>
                <li class="dropdown-divider"></li>
            }
            <li>
                <div class="text-center link-block">
                    <a href="/Admin/Notification" class="dropdown-item">
                        @await Component.InvokeAsync("AdminLayoutNavbarCountOfNotifications")
                    </a>
                </div>
            </li>
        }
        else
        {
            <li>
                <div class="text-center link-block">
                    <a href="/Admin/Notification" class="dropdown-item">
                        <strong>Yeni bildirim yok</strong>
                    </a>
                </div>
            </li>
        }
    </ul>
</li>
